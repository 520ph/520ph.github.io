<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>黑客帝国</title>
		<link rel="shortcut icon" href="/images/cc.ico" />	
		<style type="text/css">
			*{margin: 0;padding: 0;}
			html{overflow:hidden;}
		</style>
	</head>
	<body>
		<canvas id="canvas" style="background: #000;"></canvas>
		<audio autoplay loop src="mp3/qifen.mp3"></audio>
		<script type="text/javascript">
		window.onload = function(){
				//获取画布对象
				var canvas = document.getElementById("canvas");
				//获取画布的上下文
				var context = canvas.getContext("2d");
				//第一步，将画布充斥整个屏幕
				//获取浏览器屏幕的宽度和高度
				var W = window.innerWidth;
				var H = window.innerHeight;
				canvas.width = W;
				canvas.height = H;
				//第二部准备一组文字
				var str = "101523465!@#￥%&**%%#%@";
				//计算列
				var fontSize = 14;
				var colunms = Math.floor(W/fontSize);
				var drops = [];
				for(var i = 0;i<colunms;i++){
					drops.push(0);
				}
				//绘画的函数
				function draw(){
					context.fillStyle = "rgba(0,0,0,0.05)";
					context.fillRect(0,0,W,H);
					//给字体添加颜色和样式
					context.font = "700 "+fontSize+" 微软雅黑";//给字体添加样式
					context.fillStyle = "#348601";//rgb，标准色，16进制
					//context.fillText(str,100,200);//把文字写入画布
					//画园  context.arc(100,200,50,0,Math.PI*2); 
					//画正方形   context.rect(100,200,50,50); 
					for (var i = 0;i<colunms;i++) {
						var index = Math.floor(Math.random()*str.length);
						var x = i*fontSize;
						
						var y = drops[i]*fontSize;
						context.fillText(str[index],x,y);

						context.fillText(str[index],y,x);
						if(y>canvas.height && Math.random() > 0.9)drops[i]=0;
						drops[i]++;
					}
					
				};
				draw();
				setInterval(draw,30);
			}
		</script>
	</body>
</html>
