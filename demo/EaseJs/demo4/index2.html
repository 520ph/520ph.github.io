<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Demo</title>
		<style type="text/css">
			#myCanvas{
				display: block;
				margin: 50px auto;
			}
		</style>
	</head>
	<body>
		<canvas id="myCanvas"></canvas>
		<script src="js/easeljs-0.8.2.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/TweenMax.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var canvas = document.querySelector("#myCanvas");
			canvas.width = 1200;
			canvas.height = 800;
			var stage = new createjs.Stage(canvas);
			var con1 = new createjs.Stage(canvas);
			con1.x = 1;
			con1.y = 1;
			con1.width = 501;
			con1.height = 501;
			stage.addChild(con1);
			var line = new createjs.Shape();
			for (var i = 0; i < con1.height/25; i++) {
				//line.graphics.setStrokeStyle(1).beginStroke("#00151b").moveTo(i*25,0).lineTo(i*25, con1.height );
			}
			for (var i = 0; i < con1.width/25; i++) {
				//line.graphics.setStrokeStyle(1).beginStroke("#00151b").moveTo(0,i*25).lineTo(con1.width,i*25);
			}
			
			var arr = [18,15,12,9,7,5];
			arr = arr.reverse();
			var con2 = new createjs.Container();
			con2.x = 1;
			con2.y = 1;
			con2.width = 501;
			con2.height = 501;
			for (var i = 0; i < 6; i++) {
				var bar = new createjs.Shape();
				bar.x = (3+i)*50;
				bar.y = 500-arr[i]*25;
				bar.width = 25;
				bar.height = arr[i]*25;
				bar.color = "#00fff6";
				//bar.r = 
				//bar.alpha = 0.3+1/2;
				bar.graphics.beginFill(bar.color).drawRoundRect(0, 0, bar.width, bar.height-1, 0);
				con2.addChild(bar);
				var x1 = bar.x-Math.cos(Math.PI/180*45)*100;
				var y1 = bar.y-Math.sin(Math.PI/180*45)*20;
				var x2 = (5-i)*25;
				var y2 = 500-bar.height*0.4;
				/*if(i==0){
					x1 = bar.x-Math.cos(Math.PI/180*45)*40;
					y1 = bar.y-Math.sin(Math.PI/180*45)*2;
					y2 = 500-bar.height*0.2;
				}*/
				console.log(y2)
				console.log(x1+"========"+y1)
				line.graphics.setStrokeStyle(1).beginStroke("#027770")
				//.moveTo(bar.x,bar.y)
				.moveTo(x1,y1)
				.lineTo(bar.x,bar.y)
				//.lineTo(bar.x+25,bar.y)   bezierCurveTo
				.bezierCurveTo(x1,y1,x2,y2,x2,500).lineTo(x2,y2);
			}
			stage.addChild(con2);
			con1.addChild(line);
			createjs.Ticker.addEventListener("tick",stage);
		</script>
	</body>
</html>
